# ==========================================
# Fleming Environment Configuration
# ==========================================
# Copy this file to .env and adjust for your environment.
# Works for both Development and Production.

# ------------------------------------------
# Environment (dev / prod)
# ------------------------------------------
ENV=dev
# Optional: Hardcode a wallet address to bypass auth checks in dev mode
# This matches the seeded user in apps/backend/cmd/seed/main.go
# DEV_OVERRIDE_WALLET_ADDRESS=0x742d35Cc6634C0532925a3b844Bc9e7595f
# Docker Compose Strategy
# ------------------------------------------
# Controls which compose files are loaded.
# Dev: compose.yml:compose.override.yml
# Prod: compose.yml
COMPOSE_FILE=compose.yml:compose.override.yml

# ------------------------------------------
# Database (PostgreSQL)
# ------------------------------------------
# Warning: In production, use strong passwords and restrict access.
DB_USER=fleming
DB_PASSWORD=fleming
DB_NAME=fleming
DB_PORT=5432

# ------------------------------------------
# Object Storage (MinIO)
# ------------------------------------------
# Warning: In production, change these credentials!
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=password
MINIO_PORT_API=9000
MINIO_PORT_CONSOLE=9001
# Buckets to create on startup (comma separated if we add script later, currently used by app config)
MINIO_BUCKET_NAME=fleming

# ------------------------------------------
# Object Storage (Canonical app config)
# ------------------------------------------
# The backend reads STORAGE_* (and also supports legacy S3_* aliases).
# For local dev with Compose, point to the MinIO service.
STORAGE_ENDPOINT=minio:9000
STORAGE_ACCESS_KEY=admin
STORAGE_SECRET_KEY=password
STORAGE_BUCKET=fleming
STORAGE_USE_SSL=false

# ------------------------------------------
# Backend
# ------------------------------------------
BACKEND_PORT=8080
# The internal hostname of the DB service in Docker network
BACKEND_DB_HOST=db
# Legacy (deprecated): kept for backwards compatibility with older compose/env setups.
BACKEND_S3_ENDPOINT=minio:9000
BACKEND_S3_SSL=false

# ------------------------------------------
# Frontend (Web)
# ------------------------------------------
# The port the web server will be exposed on the host
WEB_PORT=3000
